<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="description" content="Call-us" />
  <meta name="author" content="khiro" />
  <title>ETB/Call us</title>
  <link rel="stylesheet" href="../style.css" />
  <link rel="icon" type="image/x-icon" href="../icon.ico" />
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("eUhmexwpNz5XkvfQV"); // Public Key
    })();
  </script>
</head>
<body>
  <div class="header">
    <div class="fix-head">
      <div>
        <a href="home-fr.html"><img src="../image/logo.png" alt="logo" class="logo" style="width: 100px; height: 100px;" /></a>
      </div>
      <div class="fix-left">
        <ul>
          <li>
            <select name="language" style="margin-top: 25px;"  id="pageSelect">
              <option value="call-us-fr.html" selected>Français</option>
              <option value="call-us-en.html">Anglais</option>
              <option value="call-us-ar.html">arabe</option>
            </select>
          </li>
          <li><a href="home-fr.html#Connect-with-us" style="border: solid;margin: 10px;padding: 5px;font-size: 12px;border-radius: 6px;">Connectez-vous avec nous</a></li>
        </ul>
      </div>
      <div class="fix-right"><br><br>
        <ul>
          <li><a href="call-us-fr.html" class="c-fix" style="font-size: 12px;">Appelez-nous</a></li>
          <li><a href="development-fr.html" class="c-fix" style="font-size: 12px;">À propos de nous</a></li>
          <li><a href="home-fr.html" class="c-fix" style="font-size: 12px;">Page d'accueil</a></li>
        </ul>
      </div>
    </div>
    <div class="garaj"><br></div>
    <div class="Call-us">
      <form class="contact-form" id="contactForm">
        <div class="inputs">
          <input type="text" id="name" placeholder="Nom" required>
          <input type="text" id="phone" placeholder="Numéro de téléphone" required>
          <input type="email" id="email" placeholder="Votre e-mail" required>
          <input type="submit" value="Envoyer">
        </div>
        <textarea id="message" placeholder="Message"></textarea>
      </form>
    </div>
    <div class="footer">
      <div style="text-align: left; margin-left: 15%;">
        <br><br>
        <a href="https://www.instagram.com/chaalalhamidetbtce/" target="_blank" style="margin-left: 20px;"><img src="../image/soshelmidya/I.png" alt="instagram" width="30" /></a>
        <a href="https://x.com/etbtce_chaalal" target="_blank" style="margin-left: 20px;"><img src="../image/soshelmidya/T.png" alt="twitter" width="30" /></a>
        <a href="https://www.facebook.com/etb.tce.chaalal.hamid/" target="_blank" style="margin-left: 20px;"><img src="../image/soshelmidya/F.png" alt="facebook" width="30" /></a>
        <img src="../image/logo.png" alt="logo" width="50" style="float: right; margin-right: 20px;" />
      </div>
    </div>
    <script>
              document.getElementById("pageSelect").addEventListener("change", function() {
                  let url = this.value;
                  if (url) {
                      window.location.href = url; // ينقل المستخدم إلى الرابط
                  }
              });

              document.getElementById("contactForm").addEventListener("submit", function(event) {
                  event.preventDefault();

                  // نحصل على الزر
                  let submitBtn = this.querySelector('input[type="submit"]');
                  submitBtn.disabled = true;       // نوقف الزر
                  submitBtn.value = "⏳ Envoi..."; // نغير النص

                  let params = {
                    name: document.getElementById("name").value,
                    phone: document.getElementById("phone").value,
                    email: document.getElementById("email").value,
                    message: document.getElementById("message").value
                  };

                  emailjs.send("service_if9wn4l", "template_dcloigp", params)
                    .then(function(response) {
                      console.log("SUCCESS", response);
                      alert("✅ Merci de nous avoir contactés. Nous répondrons à votre e-mail dans les plus brefs délais!");

                      // نرجع الزر لحالتو
                      submitBtn.disabled = false;
                      submitBtn.value = "Envoyer";

                      // نفضي الفورم بعد الإرسال
                      document.getElementById("contactForm").reset();
                    }, function(error) {
                      console.error("FAILED", error);
                      alert("❌ L'envoi a échoué.");

                      // نرجع الزر يشتغل
                      submitBtn.disabled = false;
                      submitBtn.value = "Envoyer";
                    });
                });
    </script>
  </body>
</html>
